TIME LOG
========

1. Purpose
----------
This program helps you keep a log of how much time you spend on specific
projects.

2. Approach
-----------

The program displays a small window with a tree of projects and sub-projects at
regular intervals. Each root node should correspond to a specific project that
[your supervisors want] you want to track. You can create any number of
sub-projects by either editing the project file (see section 3.1) and reloading
the program, or right-clicking a node in the user interface. Use middle-click to
expand/collapse a parent node.

Once a node is pressed (left click), the window is minimised (or disappears,
depending on the configuration). The window re-appears at the specified interval
is a semi-active state (default colour: blue). If a node is pressed (left click)
within another the specified interval, the time elapsed since the window
appeared will be counted towards the previous entry.

If the task should be stopped or changed before the end of the interval, you can
maximise the program, and click on the STOP button or a different task,
respectively.

The program generates a simple CSV log, where each entry roughly corresponds to
each node clicked. The order used is:

    <start-time>,<end-time>,<main-project>,<sub-project>,<sub-sub-project>,...

The times are currently displayed using the date format "dd/MM/yyyy HH:mm:ss".

2. Compilation (if not already compiled)
----------------------------------------
Software required:

- JDK 6 (aptitude package: openjdk-6-jdk),
- Ant (aptitude package: ant).

The program can be compiled with

    ant compile

Since the program is written in Java, it should compile and run on many
platforms.

3. Setting up the program
-------------------------
The configuration for the program is located in the "config.txt" file. In there,
you can specify various options including the time interval in seconds (default:
intervalInSeconds=3600), the file containing the project and sub-project names
(default: projectsFilename=projects.txt), and the output file for the log
entries (default: logFilename=log.txt).

3.1 Specifying the projects
---------------------------
The projects are specified in the projects file (defined within the
configuration file). The syntax for specifying projects is:

    main_project[{tooltip}]
    				sub_project[{tooltip}]
    								sub_sub_project[{tooltip}]

The top-level projects should be your main projects (projects that project
administration care about). Each name can have its tooltip appended in curly
brackets. See projects.txt (the default projects file) for an example.

3.2 Alternative behaviour
-------------------------
Some window managers do not support minimisation of windows (default:
behaviour=minimise). In that case, specifying "behaviour=hide" in the
"config.txt" file will instead completely hide the window. However, this does
make it more difficult to show the window again before the end of the specified
interval (e.g. to stop/change the logging). In this case, you might want to use
the non-daemon mode to run the program (see below).

4. Running the program
----------------------

4.1 If source is available
--------------------------
Software required:

- JRE 6 (aptitude package: openjdk-6-jre),
- Ant (aptitude package: ant).

The program can be run with

    ant run

or just

    ant

since "run" the the default target. Both of these options also compile the
program if required.

You can run the program in non-daemon mode using

    ant no-daemon

This will block ant while the program runs, so you can close it with CTRL-C.

4.2 If a pre-compiled package is available
------------------------------------------
Software required:

- JRE 6 (aptitude package: openjdk-6-jre).

On Windows, run

  ./run.bat

On Linux, run

  ./run.sh

The two scripts are identical, and contain a single command

  java -jar TimeLog.jar

5. Analysing the logs
---------------------

5.1 Using a spreadsheet
----------------------
The following instructions work for Excel 2007.

5.1.1 Importing
---------------
- open a spreadsheet;
- select the "Data" tab;
- choose "Get External Data";
- choose "From Text";
- select the log file generated by TimeLog;
- select "Delimited" (leave other settings alone);
- click Next;
- select "Comma" only (leave other settings alone);
- select "General" 'Column data format';
- select where to place the data.

5.1.2 Calculating the time periods
----------------------------------
- select the date cells;
- right click;
- choose "Format cells...";
- select the "Number" tab;
- choose the "Custom" category;
- type in "dd/mm/yyyy hh:mm:ss" for Type;
- click OK;
- select cell to calculate difference in, e.g. A1 and A2;
- type "=A2-A1";
- select the cell;
- right click;
- choose "Format cells...";
- choose the "Custom" category;
- type "hh:mm:ss" for Type;
- click OK.

5.2 Using the provided log analyser
-----------------------------------
The source code and the pre-compiled JAR both contain the class
"timelog.Analyser". If you have a pre-compiled JAR available, you can start it
with

    java -cp TimeLog.jar timelog.Analyser <logFilename>

If you have the source code available, you can start it with

    ant compile
    java -cp bin timelog.Analyser <logFilename>

6. Feedback
-----------
All feedback is much appreciated. Please send it to:
[Rok Strnisa](mailto:rok.strnisa@citrix.com "rok.strnisa@citrix.com")

Thanks.
